---
import Layout from "../layouts/Layout.astro";
import SocialMedia from "../components/Social.astro";
import ProjectData from "../data/projects.json";

// Obtener todos los proyectos excepto Suitch (ya destacado en home), ordenados por order (más reciente primero)
const projectsArray = Object.values(ProjectData);
const selectedProjects = projectsArray
  .filter((project) => project.id !== "suitch")
  .sort((a, b) => b.order - a.order);
---

<Layout title="Proyectos de Scroll - Alan San">
  <!-- Back to Portfolio -->
  <section
    class="relative max-w-3xl md:max-w-4xl mx-auto overflow-hidden pt-16 z-10"
  >
    <div class="relative px-4 mb-6">
      <div class="mx-auto mt-2">
        <a
          href="/"
          class="p-3 w-fit bg-black/40 border-[1.5px] border-white/20 outline outline-offset-[0.5px] outline-black rounded-full text-sm text-gray-300 hover:text-white justify-center flex"
        >
          <svg
            class="w-4 h-4"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
          </svg>
        </a>
      </div>
      <!-- Hero -->

      <h1 class="text-4xl md:text-6xl font-static text-white mb-6">
        Proyectos
      </h1>
      <p
        class="font-static text-sm md:text-medium md:text-xl text-gray-300 mb-4 max-w-3xl"
      >
        Esto son algunos de mis otros proyectos que me han gustado mucho
        realizar, me he divertido y he aprendiendo un monton con ellos.
      </p>
    </div>

    <!-- imagenes Demo Grid -->
    <div class="max-w-3xl md:max-w-4xl mx-auto px-4 mb-32">
      <!-- Grid: 1 columna en mobile, 2 columnas en tablet, 3 columnas en desktop (máximo 2 filas) -->
      <div
        class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-[3.5fr, 2fr, 2fr] gap-4 md:gap-6"
      >
        {
          selectedProjects.map((project) => (
            <a
              href={`/${project.id}`}
              class="group block transition-transform hover:scale-[1.02] relative border-[1.5px] border-white/10 outline outline-offset-[0.5px] outline-black rounded-3xl overflow-hidden h-64 sm:h-72 lg:h-80"
            >
              <img
                transition:name={`transition-${project.id}`}
                src={project.image.srcHero ?? project.image.src}
                alt={project.image.alt}
                class="w-full h-full rounded-xl object-cover"
                loading="lazy"
              />

              {/* Overlay con título al hacer hover */}
              <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-6">
                <div>
                  <h3 class="text-white font-bold text-lg md:text-xl mb-1">
                    {project.title}
                  </h3>
                  <p class="text-gray-300 text-sm md:text-base">
                    {project.subTitle}
                  </p>
                </div>
              </div>
            </a>
          ))
        }
      </div>
    </div>
  </section>
</Layout>

<style>
  code {
    font-family: "Courier New", monospace;
    line-height: 1.4;
  }
  .informative {
    font-family: "static";
    font-size: 20px;
    opacity: 0.8;
  }
</style>
