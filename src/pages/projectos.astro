---
import Layout from "../layouts/Layout.astro";
import SocialMedia from "../components/Social.astro";
---

<Layout title="Proyectos de Scroll - Alan San">
  <!-- Back to Portfolio -->
  <section
    class="relative  max-w-3xl md:max-w-6xl mx-auto overflow-hidden py-14 z-10"
  >
    <div class="relative px-4 mb-6 ">
      <div class="mx-auto mt-2">
        <a
          href="/"
          class="p-3 w-fit bg-black/40 border-[1.5px] border-white/20 outline outline-offset-[0.5px] outline-black rounded-full text-sm text-gray-300 hover:text-white justify-center flex"
        >
          <svg
            class="w-4 h-4"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
          </svg>
        </a>
      </div>
      <!-- Hero -->

      <h1 class="text-4xl md:text-6xl font-static text-white mb-6">
        Proyectos de Scroll Animado
      </h1>
      <p
        class="font-static text-sm md:text-medium md:text-xl text-gray-300 mb-4 max-w-3xl "
      >
        Exploración de animaciones avanzadas con GSAP y técnicas de scroll
        interactivo
      </p>
      
      <!-- View Counter -->
      <div class="mt-3">
        <div class="flex items-center text-xs text-gray-400/80">
          <svg
            class="w-3 h-3 mr-1.5"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
            ></path>
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
            ></path>
          </svg>
          <span id="view-counter" class="font-mono opacity-0  transition-all duration-300">0</span>

        </div>
      </div>
    </div>

    <!-- imagenes Demo Grid -->
    <div
      class="max-w-3xl md:max-w-4xl mx-auto px-4  "
      >
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 md:gap-6">
        <!-- GTA-6 Project -->
        <div class="col-span-1 sm:col-span-2 md:col-span-4">
          <a
            href="https://webgta6-alan-sans-projects.vercel.app/"
            target="_blank"
            rel="noopener noreferrer"
            class="block transition-transform hover:scale-[1.02] relative border-[1.5px] border-white/10 outline outline-offset-[0.5px] outline-black rounded-3xl overflow-hidden h-48 sm:h-64 md:h-80"
          >
            <img
              src="/imagenes/gta-foto.webp"
              alt="GTA-6 Scroll Project"
              class="w-full h-full rounded-xl object-cover"
              loading="lazy"
            />
          </a>
        </div>

        <!-- AirPods Project -->
        <div class="col-span-1 sm:col-span-1 md:col-span-2">
          <a
            href="https://airpods-scroll-swart.vercel.app/"
            target="_blank"
            rel="noopener noreferrer"
            class="block transition-transform hover:scale-[1.02] relative border-[1.5px] border-white/30 outline outline-offset-[0.5px] outline-black rounded-xl overflow-hidden h-48 sm:h-56 md:h-64"
          >
            <img
              src="/imagenes/airpod-foto.webp"
              alt="AirPods Scroll Project"
              class="w-full h-full rounded-xl object-cover"
              loading="lazy"
            />
          </a>
        </div>
        
        <!-- Moto Scroll Project -->
        <div class="col-span-1 sm:col-span-1 md:col-span-2">
          <a
            href="https://bike-scroll.netlify.app/"
            target="_blank"
            rel="noopener noreferrer"
            class="block transition-transform hover:scale-[1.02] relative border-[1.5px] border-white/30 outline outline-offset-[0.5px] outline-black rounded-xl overflow-hidden h-48 sm:h-56 md:h-64"
          >
            <img
              src="/imagenes/motoo.webp"
              alt="Moto Scroll Project"
              class="w-full h-full rounded-xl object-cover"
              loading="lazy"
            />
          </a>
        </div>

      </div>
    </div>
  </section>
</Layout>

<!-- Descripción General -->
<section class=" relative py-14 z-10 max-w-3xl md:max-w-3xl mx-auto">
  <div class="px-4  ">

      <div class="flex flex-col ">
        <h2 class="text-2xl md:text-5xl font-static text-white mb-6 ">
          Descripción General de los Proyectos
        </h2>
        <p class="font-static text-sm md:text-medium md:text-xl text-gray-300 ">
          Esta colección representa mi evolución en el dominio de <strong
            class="text-white">animaciones de scroll</strong
          >, desde técnicas básicas con JavaScript vanilla hasta
          implementaciones avanzadas con GSAP. Cada proyecto explora diferentes
          enfoques para crear experiencias interactivas que responden al
          desplazamiento del usuario.
        </p>

        <p class="font-static text-sm md:text-medium md:text-xl text-gray-300">
          El primer proyecto <strong class="text-white">Moto Scroll</strong> me enseñó
          los fundamentos del método de frames, que posteriormente apliqué en <strong
            class="text-white">AirPods Scroll</strong
          >. Finalmente, <strong class="text-white">GTA-6 Landing</strong> representa
          el dominio de GSAP y sus capacidades avanzadas de timeline y ScrollTrigger.
        </p>

        <div class="flex flex-wrap w-full gap-2 justify-center">
          <span
            class="px-3 py-1 bg-black/40 border-[1.5px] border-white/20 outline outline-offset-[0.5px] outline-black rounded-full text-sm"
            >GSAP</span
          >
          <span
            class="px-3 py-1 bg-black/40 border-[1.5px] border-white/20 outline outline-offset-[0.5px] outline-black rounded-full text-sm"
            >ScrollTrigger</span
          >
          <span
            class="px-3 py-1 bg-black/40 border-[1.5px] border-white/20 outline outline-offset-[0.5px] outline-black rounded-full text-sm"
            >JavaScript</span
          >
          <span
            class="px-3 py-1 bg-black/30 border-gray-400/20 rounded-full text-sm border"
            >Frame Animation</span
          >
        </div>
      </div>

  </div>

  <!--agradecimientos-->
  <div class="text-center mb-8">
    <p class="text-sm text-gray-400">
      Técnicas aprendidas gracias a <a
        href="https://midu.dev/"
        target="_blank"
        rel="noopener noreferrer"
        class="text-gray-300">@midudev</a
      >
    </p>
  </div>
</section>

<!-- Tecnologías y Enfoques -->
<section class="py-14 relative z-10 max-w-3xl md:max-w-3xl mx-auto">
  <div class="px-4">
    <h2 class="text-2xl md:text-5xl font-bold text-white mb-12">
      Tecnologías y Enfoques
    </h2>
    <ol class="space-y-8 md:space-y-8 list-decimal pl-6">
      <li>
        <p class="font-static text-sm md:text-medium md:text-xl text-gray-300">
          <strong class="text-white"
            >GSAP (GreenSock Animation Platform):</strong
          >
          La biblioteca más potente para animaciones web. Utilizada en el proyecto
          GTA-6 para crear efectos de scroll sincronizados con Timeline y ScrollTrigger,
          permitiendo animaciones complejas y fluidas.
        </p>
      </li>

      <li>
        <p class="font-static text-sm md:text-medium md:text-xl text-gray-300">
          <strong class="text-white">ScrollTrigger Plugin:</strong>
          Plugin esencial de GSAP que vincula animaciones al scroll de la página.
          Permite crear efectos como parallax, fade-in/out y transformaciones basadas
          en la posición del scroll del usuario.
        </p>
      </li>

      <li>
        <p class="font-static text-sm md:text-medium md:text-xl text-gray-300">
          <strong class="text-white">Técnica de Frame Animation:</strong>
          Método desarrollado inicialmente en Moto Scroll y perfeccionado en AirPods.
          Consiste en cambiar imágenes secuencialmente basándose en el progreso del
          scroll, creando la ilusión de video interactivo.
        </p>
      </li>

      <li>
        <p class="font-static text-sm md:text-medium md:text-xl text-gray-300">
          <strong class="text-white">Canvas y Renderizado Optimizado:</strong>
          Implementación de canvas HTML5 para renderizar secuencias de imágenes de
          manera eficiente, optimizando el rendimiento y la fluidez de las animaciones.
        </p>
      </li>
    </ol>
  </div>
</section>

<!-- Lo que Aprendí -->
<section class="py-14 relative z-10 max-w-3xl md:max-w-3xl mx-auto">
  <div class="px-4">
    <h2 class="font-static text-2xl md:text-5xl text-center">Lo que Aprendí</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-y-4 md:mr-8">
      <div class="">
        <h3
          class="font-static text-sm md:text-lg text-pink-400 mb-4 text-center"
        >
          GSAP y Timeline
        </h3>
        <ul class="space-y-3 text-gray-300 font-static px-6 md:px-16">
          <li
            class="flex items-start font-static m-0 md:text-lg my-2 text-gray-300 text-sm"
          >
            <span class="text-pink-400 mr-2">•</span>
            Dominio de gsap.timeline() para secuenciar animaciones complejas
          </li>
          <li
            class="flex items-start font-static m-0 md:text-lg my-2 text-gray-300 text-sm"
          >
            <span class="text-pink-500 mr-2">•</span>
            Uso de parámetros temporales como "-=1" y "&lt;" para sincronización
            precisa
          </li>
          <li
            class="flex items-start font-static m-0 md:text-lg my-2 text-gray-300 text-sm"
          >
            <span class="text-pink-500 mr-2">•</span>
            Implementación del parámetro "scrub" para animaciones bidireccionales
          </li>
        </ul>
      </div>
      <div class="">
        <h3
          class="font-static text-sm md:text-lg text-pink-400 mb-4 text-center"
        >
          Técnicas de Scroll
        </h3>
        <ul class="space-y-3 text-gray-300 font-static px-6 md:px-16">
          <li
            class="flex items-start font-static m-0 md:text-lg my-2 text-gray-300 text-sm"
          >
            <span class="text-pink-500 mr-2">•</span>
            Desarrollo del método de frame animation desde cero
          </li>
          <li
            class="flex items-start font-static m-0 md:text-lg my-2 text-gray-300 text-sm"
          >
            <span class="text-pink-500 mr-2">•</span>
            Optimización de rendimiento en animaciones de scroll intensivas
          </li>
          <li
            class="flex items-start font-static m-0 md:text-lg my-2 text-gray-300 text-sm"
          >
            <span class="text-pink-500 mr-2">•</span>
            Creación de experiencias inmersivas que responden al usuario
          </li>
        </ul>
      </div>
    </div>
  </div>
</section>

<!-- Implementación Técnica -->
<section class="py-10 relative z-10 max-w-3xl md:max-w-3xl mx-auto">
  <div class="px-4 md:px-8 gap-y-2">
    <h2 class="text-2xl md:text-5xl font-static m-0">Implementación Técnica</h2>
    <div class="grid grid-cols-1 gap-y-6">
      <!-- GSAP Timeline -->
      <div>
        <h3 class="text-sm md:text-xl font-static text-white">
          GSAP Timeline con Parámetros Temporales
        </h3>
        <p class="font-static text-xs md:text-lg text-gray-300 mb-4">
          El poder de GSAP reside en su sistema de timeline que permite
          controlar la sincronización precisa de múltiples animaciones. Los
          parámetros como "-=1" y "&lt;" son fundamentales para crear secuencias
          fluidas.
        </p>
        <div
          class="bg-zinc-900 border-[1.5px] border-white/10 outline outline-offset-[0.5px] outline-black rounded-lg p-4 text-sm"
        >
          <pre
            class="language-javascript text-xs overflow-x-auto text-green-400">
<code>{`// Registro de plugins esenciales
import gsap from 'gsap';
import { ScrollTrigger } from 'gsap/ScrollTrigger';
gsap.registerPlugin(ScrollTrigger);

// Timeline con parámetros temporales avanzados
const tl = gsap.timeline({
  scrollTrigger: {
    trigger: '.hero-section',
    start: 'top center',
    end: 'bottom top',
    scrub: true // Clave para animaciones bidireccionales
  }
});

// Secuencia de animaciones sincronizadas
tl.to('.title', { opacity: 1, y: 0, duration: 1 })
  .to('.subtitle', { opacity: 1, x: 100, duration: 1 }, '-=0.5') // Inicia 0.5s antes
  .to('.image', { scale: 1.2, rotation: 10, duration: 1 }, '<') // Inicia simultáneamente
  .to('.cta', { opacity: 1, y: -50, duration: 0.8 }, '+=0.2'); // Inicia 0.2s después`}</code>
            </pre>
        </div>
      </div>

      <!-- Frame Animation -->
      <div>
        <h3 class="text-sm md:text-xl font-static text-white">
          Técnica de Frame Animation
        </h3>
        <p class="font-static text-xs md:text-lg text-gray-300 mb-4">
          Desarrollé esta técnica en Moto Scroll y la perfeccioné en AirPods.
          Consiste en cambiar imágenes secuencialmente basándose en el progreso
          del scroll, creando una animación fluida y controlada por el usuario.
        </p>
        <div
          class="bg-zinc-900 border-[1.5px] border-white/10 outline outline-offset-[0.5px] outline-black rounded-lg p-4 text-sm"
        >
          <pre
            class="language-javascript text-xs text-green-400 overflow-x-auto">
<code>{`// Sistema de frame animation optimizado
const canvas = document.querySelector('#frame-canvas');
const ctx = canvas.getContext('2d');
const frameCount = 150; // Total de frames
const images = [];

// Precargar todas las imágenes
for (let i = 1; i <= frameCount; i++) {
  const img = new Image();
  img.src = \`./frames/frame_\${i.toString().padStart(4, '0')}.jpg\`;
  images.push(img);
}

// Función de renderizado basada en scroll
function updateFrame() {
  const scrollTop = window.pageYOffset;
  const maxScroll = document.body.scrollHeight - window.innerHeight;
  const scrollFraction = scrollTop / maxScroll;
  
  // Calcular frame actual basado en progreso de scroll
  const frameIndex = Math.min(
    frameCount - 1,
    Math.floor(scrollFraction * frameCount)
  );
  
  // Renderizar frame actual
  if (images[frameIndex] && images[frameIndex].complete) {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.drawImage(images[frameIndex], 0, 0, canvas.width, canvas.height);
  }
}

// Listener optimizado con throttling
let ticking = false;
window.addEventListener('scroll', () => {
  if (!ticking) {
    requestAnimationFrame(() => {
      updateFrame();
      ticking = false;
    });
    ticking = true;
  }
});`}</code>
            </pre>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <div class="hidden justify-center items-center md:flex my-16 md:flex-col">
    <footer
      class="w-full flex z-10 justify-center items-center"
      role="contentinfo"
      aria-label="Site footer"
    >
      <div class="flex-col justify-center items-center">
        <figure
          class="rounded-full w-10 h-10 border-white/60 border-[1px] mx-auto"
        >
          <img
            src="/imagenes/FotoPerfil.webp"
            alt="Foto de perfil de Alan San, desarrollador frontend"
            class="absolute w-10 h-10 rounded-full border-white/60 border-[1px] p-1"
            width="56"
            height="56"
            loading="lazy"
          />
        </figure>
        <p class="font-static font-bold opacity-80 mx-6 mt-5">
          Made by <a
            href="https://github.com/AlanSan1195"
            class="text-white hover:cursor-pointer no-underline"
            rel="author"
            title="Visit Alan San profile">Alan San</a
          >
        </p>
        <SocialMedia />
      </div>
    </footer>
  </div>
</section>



<style>
  code {
    font-family: "Courier New", monospace;
    line-height: 1.4;
  }
  .informative {
    font-family: "static";
    font-size: 20px;
    opacity: 0.8;
  }
</style>
